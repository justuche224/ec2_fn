import{r as o,j as e,B as x,u as j}from"./index-BVlH3n0h.js";import{C as g,a as f,b as k,c as v,d as C,e as D}from"./card-Cn1464GL.js";import{A,a as y,b as E,c as w,d as S,e as q}from"./alert-dialog-Dyup5WPd.js";import{I as c}from"./input-B1UDhOgi.js";import{L as i}from"./label-Dndy2xtm.js";import{F,a as B}from"./form-success-B0W-83Lj.js";import{c as I}from"./bank-ClR9H3yU.js";import{L}from"./loader-circle-CnBdTBbm.js";import"./circle-alert-Cnr54O0J.js";import"./check-BGrFiPcB.js";function R(){const[a,s]=o.useState({bankName:"",accountName:"",accountNumber:"",amount:""}),[l,m]=o.useState(!1),[r,d]=o.useState(!1),[h,p]=o.useState(""),[N,n]=o.useState(""),b=async t=>{if(t.preventDefault(),!r){if(n(""),p(""),a.bankName==="")return n("Enter a valid Bank Name");if(a.accountName==="")return n("Enter a valid Account Name");if(a.accountNumber==="")return n("Enter a valid Account Number");if(a.amount===""||isNaN(Number(a.amount))||Number(a.amount)<=0)return n("Enter a valid Amount");d(!0);try{const u=await I({bankName:a.bankName,bankAccountName:a.accountName,bankAccountNumber:a.accountNumber,amount:Number(a.amount)});console.log(u),p("Deposit request created successfully"),m(!0)}catch(u){console.log(u),n("An error occurred while creating the deposit request")}finally{d(!1)}}};return e.jsxs(g,{className:"w-full max-w-sm",children:[e.jsx(H,{open:l,setOpen:m}),e.jsxs(f,{children:[e.jsx(k,{children:"Bank Deposit"}),e.jsx(v,{children:"Enter your Bank Name, Account Name, Account Number and Desired Amount below to initiate a deposit request."})]}),e.jsxs(C,{children:[e.jsx("form",{children:e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"bankName",children:"Bank Name"}),e.jsx(c,{value:a.bankName,onChange:t=>s({...a,bankName:t.target.value}),id:"bankName",type:"text",placeholder:"e.g., Chase Bank",required:!0,disabled:r})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"accountName",children:"Account Name"}),e.jsx(c,{value:a.accountName,onChange:t=>s({...a,accountName:t.target.value}),id:"accountName",type:"text",placeholder:"John Doe",required:!0,disabled:r})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"accountNumber",children:"Account Number"}),e.jsx(c,{value:a.accountNumber,onChange:t=>s({...a,accountNumber:t.target.value}),id:"accountNumber",type:"text",placeholder:"1234567890",required:!0,disabled:r})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"amount",children:"Amount"}),e.jsx(c,{value:a.amount,onChange:t=>s({...a,amount:t.target.value}),id:"amount",type:"number",placeholder:"1000",required:!0,disabled:r})]})]})}),e.jsx("br",{}),e.jsx(F,{message:N}),e.jsx(B,{message:h})]}),e.jsx(D,{className:"flex-col gap-2",children:e.jsx(x,{onClick:t=>b(t),type:"submit",className:"w-full",disabled:r,children:r?e.jsx(L,{className:"w-4 h-4 animate-spin"}):"Request Deposit"})})]})}const H=({open:a,setOpen:s})=>{const l=j();return e.jsx(A,{open:a,onOpenChange:s,children:e.jsxs(y,{children:[e.jsxs(E,{children:[e.jsx(w,{children:"Deposit Request Created! Check Your Email"}),e.jsx(S,{children:"Check your Email for Deposit Instructions on how to complete the deposit."})]}),e.jsx("small",{className:"text-center italic text-secondary-foreground",children:"If you don't see an email, check your spam folder and mark as not spam."}),e.jsx(q,{children:e.jsx(x,{onClick:()=>l({to:"/dashboard/deposit/bank"}),children:"View Deposits"})})]})})},Q=function(){return e.jsx("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-100px)] text-center text-2xl",children:e.jsx(R,{})})};export{Q as component};
