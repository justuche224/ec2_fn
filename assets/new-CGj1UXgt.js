import{r as o,j as e,B as x,u as g}from"./index-Caxnq4fP.js";import{C as y,a as N,b as C,c as D,d as v,e as b}from"./card-BMh53kiZ.js";import{A as E,a as P,b as A,c as w,d as S,e as F}from"./alert-dialog-CcTVg8TI.js";import{I as m}from"./input-9dZTne-k.js";import{L as c}from"./label-CnkdeUHA.js";import{F as k,a as q}from"./form-success-DjkpuRcg.js";import{c as L}from"./paypal-DMNPNJuf.js";import{L as I}from"./loader-circle-CEWipKhR.js";import"./circle-alert-BlkNPLzr.js";import"./check-PSB7j7kI.js";function R(){const[a,r]=o.useState({email:"",name:"",amount:""}),[i,d]=o.useState(!1),[t,u]=o.useState(!1),[h,p]=o.useState(""),[j,l]=o.useState(""),f=async s=>{if(s.preventDefault(),!t){if(l(""),p(""),a.email===""||!a.email.includes("@"))return l("Enter a valid PayPal Email");if(a.name==="")return l("Enter a valid Name");if(a.amount===""||isNaN(Number(a.amount))||Number(a.amount)<=0)return l("Enter a valid Amount");u(!0);try{const n=await L({paypalEmail:a.email,paypalName:a.name,amount:Number(a.amount)});console.log(n),p("Deposit created successfully"),d(!0)}catch(n){console.log(n),l("An error occurred while creating the deposit")}finally{u(!1)}}};return e.jsxs(y,{className:"w-full max-w-sm",children:[e.jsx(B,{open:i,setOpen:d}),e.jsxs(N,{children:[e.jsx(C,{children:"PayPal Deposit"}),e.jsx(D,{children:"Enter your PayPal Email, Name and Desired Amount below to deposit funds"})]}),e.jsxs(v,{children:[e.jsx("form",{children:e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(c,{htmlFor:"email",children:"PayPal Email"}),e.jsx(m,{value:a.email,onChange:s=>r({...a,email:s.target.value}),id:"email",type:"email",placeholder:"user@example.com",required:!0,disabled:t})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("div",{className:"flex items-center",children:e.jsx(c,{htmlFor:"name",children:"PayPal Name"})}),e.jsx(m,{value:a.name,onChange:s=>r({...a,name:s.target.value}),id:"name",type:"text",placeholder:"John Doe",required:!0,disabled:t})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(c,{htmlFor:"amount",children:"Amount"}),e.jsx(m,{value:a.amount,onChange:s=>r({...a,amount:s.target.value}),id:"amount",type:"number",placeholder:"1000",required:!0,disabled:t})]})]})}),e.jsx("br",{}),e.jsx(k,{message:j}),e.jsx(q,{message:h})]}),e.jsx(b,{className:"flex-col gap-2",children:e.jsx(x,{onClick:s=>f(s),type:"submit",className:"w-full",disabled:t,children:t?e.jsx(I,{className:"w-4 h-4 animate-spin"}):"Deposit"})})]})}const B=({open:a,setOpen:r})=>{const i=g();return e.jsx(E,{open:a,onOpenChange:r,children:e.jsxs(P,{children:[e.jsxs(A,{children:[e.jsx(w,{children:"Deposit Created! Check Your Email"}),e.jsx(S,{children:"Check your Email for a Deposit Request and instructions on how to complete the deposit."})]}),e.jsx("small",{className:"text-center italic text-secondary-foreground",children:"If you don't see an email, check your spam folder and mark as not spam."}),e.jsx(F,{children:e.jsx(x,{onClick:()=>i({to:"/dashboard/deposit/paypal"}),children:"View Deposits"})})]})})},Q=function(){return e.jsx("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-100px)] text-center text-2xl",children:e.jsx(R,{})})};export{Q as component};
