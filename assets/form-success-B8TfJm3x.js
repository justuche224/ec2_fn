import{i as w,r as ae,j as q,c as Oe,a1 as Nt}from"./index-CKke61-x.js";import{L as Pt}from"./label-whf_3kma.js";import{C as Bt}from"./circle-alert-CVOfdq6z.js";import{C as jt}from"./check-Dwuxca87.js";var ge=e=>e.type==="checkbox",ie=e=>e instanceof Date,B=e=>e==null;const ut=e=>typeof e=="object";var C=e=>!B(e)&&!Array.isArray(e)&&ut(e)&&!ie(e),dt=e=>C(e)&&e.target?ge(e.target)?e.target.checked:e.target.value:e,pt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,ct=(e,r)=>e.has(pt(r)),$t=e=>{const r=e.constructor&&e.constructor.prototype;return C(r)&&r.hasOwnProperty("isPrototypeOf")},Me=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function T(e){let r;const t=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)r=new Date(e);else if(e instanceof Set)r=new Set(e);else if(!(Me&&(e instanceof Blob||i))&&(t||C(e)))if(r=t?[]:{},!t&&!$t(e))r=e;else for(const n in e)e.hasOwnProperty(n)&&(r[n]=T(e[n]));else return e;return r}var Ve=e=>Array.isArray(e)?e.filter(Boolean):[],k=e=>e===void 0,f=(e,r,t)=>{if(!r||!C(e))return t;const i=Ve(r.split(/[,[\].]+?/)).reduce((n,o)=>B(n)?n:n[o],e);return k(i)||i===e?k(e[r])?t:e[r]:i},$=e=>typeof e=="boolean",Re=e=>/^\w*$/.test(e),ft=e=>Ve(e.replace(/["|']|\]/g,"").split(/\.|\[/)),A=(e,r,t)=>{let i=-1;const n=Re(r)?[r]:ft(r),o=n.length,u=o-1;for(;++i<o;){const y=n[i];let v=t;if(i!==u){const E=e[y];v=C(E)||Array.isArray(E)?E:isNaN(+n[i+1])?{}:[]}if(y==="__proto__"||y==="constructor"||y==="prototype")return;e[y]=v,e=e[y]}};const ve={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},z={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Z={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},yt=w.createContext(null),xe=()=>w.useContext(yt),qt=e=>{const{children:r,...t}=e;return w.createElement(yt.Provider,{value:t},r)};var gt=(e,r,t,i=!0)=>{const n={defaultValues:r._defaultValues};for(const o in e)Object.defineProperty(n,o,{get:()=>{const u=o;return r._proxyFormState[u]!==z.all&&(r._proxyFormState[u]=!i||z.all),t&&(t[u]=!0),e[u]}});return n};const Te=typeof window<"u"?ae.useLayoutEffect:ae.useEffect;function ht(e){const r=xe(),{control:t=r.control,disabled:i,name:n,exact:o}=e||{},[u,y]=w.useState(t._formState),v=w.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Te(()=>t._subscribe({name:n,formState:v.current,exact:o,callback:E=>{!i&&y({...t._formState,...E})}}),[n,i,o]),w.useEffect(()=>{v.current.isValid&&t._setValid(!0)},[t]),w.useMemo(()=>gt(u,t,v.current,!1),[u,t])}var Q=e=>typeof e=="string",mt=(e,r,t,i,n)=>Q(e)?(i&&r.watch.add(e),f(t,e,n)):Array.isArray(e)?e.map(o=>(i&&r.watch.add(o),f(t,o))):(i&&(r.watchAll=!0),t);function Wt(e){const r=xe(),{control:t=r.control,name:i,defaultValue:n,disabled:o,exact:u}=e||{},y=w.useRef(n),[v,E]=w.useState(t._getWatch(i,y.current));return Te(()=>t._subscribe({name:i,formState:{values:!0},exact:u,callback:V=>!o&&E(mt(i,t._names,V.values||t._formValues,!1,y.current))}),[i,t,o,u]),w.useEffect(()=>t._removeUnmounted()),v}function Ht(e){const r=xe(),{name:t,disabled:i,control:n=r.control,shouldUnregister:o}=e,u=ct(n._names.array,t),y=Wt({control:n,name:t,defaultValue:f(n._formValues,t,f(n._defaultValues,t,e.defaultValue)),exact:!0}),v=ht({control:n,name:t,exact:!0}),E=w.useRef(e),V=w.useRef(n.register(t,{...e.rules,value:y,...$(e.disabled)?{disabled:e.disabled}:{}})),S=w.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!f(v.errors,t)},isDirty:{enumerable:!0,get:()=>!!f(v.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!f(v.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!f(v.validatingFields,t)},error:{enumerable:!0,get:()=>f(v.errors,t)}}),[v,t]),b=w.useCallback(U=>V.current.onChange({target:{value:dt(U),name:t},type:ve.CHANGE}),[t]),re=w.useCallback(()=>V.current.onBlur({target:{value:f(n._formValues,t),name:t},type:ve.BLUR}),[t,n._formValues]),H=w.useCallback(U=>{const N=f(n._fields,t);N&&U&&(N._f.ref={focus:()=>U.focus(),select:()=>U.select(),setCustomValidity:m=>U.setCustomValidity(m),reportValidity:()=>U.reportValidity()})},[n._fields,t]),R=w.useMemo(()=>({name:t,value:y,...$(i)||v.disabled?{disabled:v.disabled||i}:{},onChange:b,onBlur:re,ref:H}),[t,i,v.disabled,b,re,H,y]);return w.useEffect(()=>{const U=n._options.shouldUnregister||o;n.register(t,{...E.current.rules,...$(E.current.disabled)?{disabled:E.current.disabled}:{}});const N=(m,K)=>{const p=f(n._fields,m);p&&p._f&&(p._f.mount=K)};if(N(t,!0),U){const m=T(f(n._options.defaultValues,t));A(n._defaultValues,t,m),k(f(n._formValues,t))&&A(n._formValues,t,m)}return!u&&n.register(t),()=>{(u?U&&!n._state.action:U)?n.unregister(t):N(t,!1)}},[t,n,u,o]),w.useEffect(()=>{n._setDisabledField({disabled:i,name:t})},[i,t,n]),w.useMemo(()=>({field:R,formState:v,fieldState:S}),[R,v,S])}const Kt=e=>e.render(Ht(e));var vt=(e,r,t,i,n)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[i]:n||!0}}:{},fe=e=>Array.isArray(e)?e:[e],Je=()=>{let e=[];return{get observers(){return e},next:n=>{for(const o of e)o.next&&o.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(o=>o!==n)}}),unsubscribe:()=>{e=[]}}},Le=e=>B(e)||!ut(e);function te(e,r){if(Le(e)||Le(r))return e===r;if(ie(e)&&ie(r))return e.getTime()===r.getTime();const t=Object.keys(e),i=Object.keys(r);if(t.length!==i.length)return!1;for(const n of t){const o=e[n];if(!i.includes(n))return!1;if(n!=="ref"){const u=r[n];if(ie(o)&&ie(u)||C(o)&&C(u)||Array.isArray(o)&&Array.isArray(u)?!te(o,u):o!==u)return!1}}return!0}var P=e=>C(e)&&!Object.keys(e).length,Ie=e=>e.type==="file",G=e=>typeof e=="function",be=e=>{if(!Me)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},bt=e=>e.type==="select-multiple",Ue=e=>e.type==="radio",zt=e=>Ue(e)||ge(e),Ce=e=>be(e)&&e.isConnected;function Gt(e,r){const t=r.slice(0,-1).length;let i=0;for(;i<t;)e=k(e)?i++:e[r[i++]];return e}function Yt(e){for(const r in e)if(e.hasOwnProperty(r)&&!k(e[r]))return!1;return!0}function O(e,r){const t=Array.isArray(r)?r:Re(r)?[r]:ft(r),i=t.length===1?e:Gt(e,t),n=t.length-1,o=t[n];return i&&delete i[o],n!==0&&(C(i)&&P(i)||Array.isArray(i)&&Yt(i))&&O(e,t.slice(0,-1)),e}var _t=e=>{for(const r in e)if(G(e[r]))return!0;return!1};function _e(e,r={}){const t=Array.isArray(e);if(C(e)||t)for(const i in e)Array.isArray(e[i])||C(e[i])&&!_t(e[i])?(r[i]=Array.isArray(e[i])?[]:{},_e(e[i],r[i])):B(e[i])||(r[i]=!0);return r}function Ft(e,r,t){const i=Array.isArray(e);if(C(e)||i)for(const n in e)Array.isArray(e[n])||C(e[n])&&!_t(e[n])?k(r)||Le(t[n])?t[n]=Array.isArray(e[n])?_e(e[n],[]):{..._e(e[n])}:Ft(e[n],B(r)?{}:r[n],t[n]):t[n]=!te(e[n],r[n]);return t}var de=(e,r)=>Ft(e,r,_e(r));const Qe={value:!1,isValid:!1},Xe={value:!0,isValid:!0};var Vt=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!k(e[0].attributes.value)?k(e[0].value)||e[0].value===""?Xe:{value:e[0].value,isValid:!0}:Xe:Qe}return Qe},xt=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:i})=>k(e)?e:r?e===""?NaN:e&&+e:t&&Q(e)?new Date(e):i?i(e):e;const Ze={isValid:!1,value:null};var At=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,Ze):Ze;function et(e){const r=e.ref;return Ie(r)?r.files:Ue(r)?At(e.refs).value:bt(r)?[...r.selectedOptions].map(({value:t})=>t):ge(r)?Vt(e.refs).value:xt(k(r.value)?e.ref.value:r.value,e)}var Jt=(e,r,t,i)=>{const n={};for(const o of e){const u=f(r,o);u&&A(n,o,u._f)}return{criteriaMode:t,names:[...e],fields:n,shouldUseNativeValidation:i}},Fe=e=>e instanceof RegExp,ce=e=>k(e)?e:Fe(e)?e.source:C(e)?Fe(e.value)?e.value.source:e.value:e,tt=e=>({isOnSubmit:!e||e===z.onSubmit,isOnBlur:e===z.onBlur,isOnChange:e===z.onChange,isOnAll:e===z.all,isOnTouch:e===z.onTouched});const rt="AsyncFunction";var Qt=e=>!!e&&!!e.validate&&!!(G(e.validate)&&e.validate.constructor.name===rt||C(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===rt)),Xt=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),st=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const ye=(e,r,t,i)=>{for(const n of t||Object.keys(e)){const o=f(e,n);if(o){const{_f:u,...y}=o;if(u){if(u.refs&&u.refs[0]&&r(u.refs[0],n)&&!i)return!0;if(u.ref&&r(u.ref,u.name)&&!i)return!0;if(ye(y,r))break}else if(C(y)&&ye(y,r))break}}};function it(e,r,t){const i=f(e,t);if(i||Re(t))return{error:i,name:t};const n=t.split(".");for(;n.length;){const o=n.join("."),u=f(r,o),y=f(e,o);if(u&&!Array.isArray(u)&&t!==o)return{name:t};if(y&&y.type)return{name:o,error:y};n.pop()}return{name:t}}var Zt=(e,r,t,i)=>{t(e);const{name:n,...o}=e;return P(o)||Object.keys(o).length>=Object.keys(r).length||Object.keys(o).find(u=>r[u]===(!i||z.all))},er=(e,r,t)=>!e||!r||e===r||fe(e).some(i=>i&&(t?i===r:i.startsWith(r)||r.startsWith(i))),tr=(e,r,t,i,n)=>n.isOnAll?!1:!t&&n.isOnTouch?!(r||e):(t?i.isOnBlur:n.isOnBlur)?!e:(t?i.isOnChange:n.isOnChange)?e:!0,rr=(e,r)=>!Ve(f(e,r)).length&&O(e,r),sr=(e,r,t)=>{const i=fe(f(e,t));return A(i,"root",r[t]),A(e,t,i),e},me=e=>Q(e);function at(e,r,t="validate"){if(me(e)||Array.isArray(e)&&e.every(me)||$(e)&&!e)return{type:t,message:me(e)?e:"",ref:r}}var ne=e=>C(e)&&!Fe(e)?e:{value:e,message:""},nt=async(e,r,t,i,n,o)=>{const{ref:u,refs:y,required:v,maxLength:E,minLength:V,min:S,max:b,pattern:re,validate:H,name:R,valueAsNumber:U,mount:N}=e._f,m=f(t,R);if(!N||r.has(R))return{};const K=y?y[0]:u,p=x=>{n&&K.reportValidity&&(K.setCustomValidity($(x)?"":x||""),K.reportValidity())},M={},oe=Ue(u),le=ge(u),Ae=oe||le,Y=(U||Ie(u))&&k(u.value)&&k(m)||be(u)&&u.value===""||m===""||Array.isArray(m)&&!m.length,se=vt.bind(null,R,i,M),X=(x,_,D,j=Z.maxLength,W=Z.minLength)=>{const J=x?_:D;M[R]={type:x?j:W,message:J,ref:u,...se(x?j:W,J)}};if(o?!Array.isArray(m)||!m.length:v&&(!Ae&&(Y||B(m))||$(m)&&!m||le&&!Vt(y).isValid||oe&&!At(y).isValid)){const{value:x,message:_}=me(v)?{value:!!v,message:v}:ne(v);if(x&&(M[R]={type:Z.required,message:_,ref:K,...se(Z.required,_)},!i))return p(_),M}if(!Y&&(!B(S)||!B(b))){let x,_;const D=ne(b),j=ne(S);if(!B(m)&&!isNaN(m)){const W=u.valueAsNumber||m&&+m;B(D.value)||(x=W>D.value),B(j.value)||(_=W<j.value)}else{const W=u.valueAsDate||new Date(m),J=he=>new Date(new Date().toDateString()+" "+he),ee=u.type=="time",ue=u.type=="week";Q(D.value)&&m&&(x=ee?J(m)>J(D.value):ue?m>D.value:W>new Date(D.value)),Q(j.value)&&m&&(_=ee?J(m)<J(j.value):ue?m<j.value:W<new Date(j.value))}if((x||_)&&(X(!!x,D.message,j.message,Z.max,Z.min),!i))return p(M[R].message),M}if((E||V)&&!Y&&(Q(m)||o&&Array.isArray(m))){const x=ne(E),_=ne(V),D=!B(x.value)&&m.length>+x.value,j=!B(_.value)&&m.length<+_.value;if((D||j)&&(X(D,x.message,_.message),!i))return p(M[R].message),M}if(re&&!Y&&Q(m)){const{value:x,message:_}=ne(re);if(Fe(x)&&!m.match(x)&&(M[R]={type:Z.pattern,message:_,ref:u,...se(Z.pattern,_)},!i))return p(_),M}if(H){if(G(H)){const x=await H(m,t),_=at(x,K);if(_&&(M[R]={..._,...se(Z.validate,_.message)},!i))return p(_.message),M}else if(C(H)){let x={};for(const _ in H){if(!P(x)&&!i)break;const D=at(await H[_](m,t),K,_);D&&(x={...D,...se(_,D.message)},p(D.message),i&&(M[R]=x))}if(!P(x)&&(M[R]={ref:K,...x},!i))return M}}return p(!0),M};const ir={mode:z.onSubmit,reValidateMode:z.onChange,shouldFocusError:!0};function ar(e={}){let r={...ir,...e},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:G(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1};const i={};let n=C(r.defaultValues)||C(r.values)?T(r.defaultValues||r.values)||{}:{},o=r.shouldUnregister?{}:T(n),u={action:!1,mount:!1,watch:!1},y={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},v,E=0;const V={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let S={...V};const b={array:Je(),state:Je()},re=tt(r.mode),H=tt(r.reValidateMode),R=r.criteriaMode===z.all,U=s=>a=>{clearTimeout(E),E=setTimeout(s,a)},N=async s=>{if(!r.disabled&&(V.isValid||S.isValid||s)){const a=r.resolver?P((await Y()).errors):await X(i,!0);a!==t.isValid&&b.state.next({isValid:a})}},m=(s,a)=>{!r.disabled&&(V.isValidating||V.validatingFields||S.isValidating||S.validatingFields)&&((s||Array.from(y.mount)).forEach(l=>{l&&(a?A(t.validatingFields,l,a):O(t.validatingFields,l))}),b.state.next({validatingFields:t.validatingFields,isValidating:!P(t.validatingFields)}))},K=(s,a=[],l,g,c=!0,d=!0)=>{if(g&&l&&!r.disabled){if(u.action=!0,d&&Array.isArray(f(i,s))){const h=l(f(i,s),g.argA,g.argB);c&&A(i,s,h)}if(d&&Array.isArray(f(t.errors,s))){const h=l(f(t.errors,s),g.argA,g.argB);c&&A(t.errors,s,h),rr(t.errors,s)}if((V.touchedFields||S.touchedFields)&&d&&Array.isArray(f(t.touchedFields,s))){const h=l(f(t.touchedFields,s),g.argA,g.argB);c&&A(t.touchedFields,s,h)}(V.dirtyFields||S.dirtyFields)&&(t.dirtyFields=de(n,o)),b.state.next({name:s,isDirty:_(s,a),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else A(o,s,a)},p=(s,a)=>{A(t.errors,s,a),b.state.next({errors:t.errors})},M=s=>{t.errors=s,b.state.next({errors:t.errors,isValid:!1})},oe=(s,a,l,g)=>{const c=f(i,s);if(c){const d=f(o,s,k(l)?f(n,s):l);k(d)||g&&g.defaultChecked||a?A(o,s,a?d:et(c._f)):W(s,d),u.mount&&N()}},le=(s,a,l,g,c)=>{let d=!1,h=!1;const F={name:s};if(!r.disabled){if(!l||g){(V.isDirty||S.isDirty)&&(h=t.isDirty,t.isDirty=F.isDirty=_(),d=h!==F.isDirty);const L=te(f(n,s),a);h=!!f(t.dirtyFields,s),L?O(t.dirtyFields,s):A(t.dirtyFields,s,!0),F.dirtyFields=t.dirtyFields,d=d||(V.dirtyFields||S.dirtyFields)&&h!==!L}if(l){const L=f(t.touchedFields,s);L||(A(t.touchedFields,s,l),F.touchedFields=t.touchedFields,d=d||(V.touchedFields||S.touchedFields)&&L!==l)}d&&c&&b.state.next(F)}return d?F:{}},Ae=(s,a,l,g)=>{const c=f(t.errors,s),d=(V.isValid||S.isValid)&&$(a)&&t.isValid!==a;if(r.delayError&&l?(v=U(()=>p(s,l)),v(r.delayError)):(clearTimeout(E),v=null,l?A(t.errors,s,l):O(t.errors,s)),(l?!te(c,l):c)||!P(g)||d){const h={...g,...d&&$(a)?{isValid:a}:{},errors:t.errors,name:s};t={...t,...h},b.state.next(h)}},Y=async s=>{m(s,!0);const a=await r.resolver(o,r.context,Jt(s||y.mount,i,r.criteriaMode,r.shouldUseNativeValidation));return m(s),a},se=async s=>{const{errors:a}=await Y(s);if(s)for(const l of s){const g=f(a,l);g?A(t.errors,l,g):O(t.errors,l)}else t.errors=a;return a},X=async(s,a,l={valid:!0})=>{for(const g in s){const c=s[g];if(c){const{_f:d,...h}=c;if(d){const F=y.array.has(d.name),L=c._f&&Qt(c._f);L&&V.validatingFields&&m([g],!0);const I=await nt(c,y.disabled,o,R,r.shouldUseNativeValidation&&!a,F);if(L&&V.validatingFields&&m([g]),I[d.name]&&(l.valid=!1,a))break;!a&&(f(I,d.name)?F?sr(t.errors,I,d.name):A(t.errors,d.name,I[d.name]):O(t.errors,d.name))}!P(h)&&await X(h,a,l)}}return l.valid},x=()=>{for(const s of y.unMount){const a=f(i,s);a&&(a._f.refs?a._f.refs.every(l=>!Ce(l)):!Ce(a._f.ref))&&Ee(s)}y.unMount=new Set},_=(s,a)=>!r.disabled&&(s&&a&&A(o,s,a),!te(Pe(),n)),D=(s,a,l)=>mt(s,y,{...u.mount?o:k(a)?n:Q(s)?{[s]:a}:a},l,a),j=s=>Ve(f(u.mount?o:n,s,r.shouldUnregister?f(n,s,[]):[])),W=(s,a,l={})=>{const g=f(i,s);let c=a;if(g){const d=g._f;d&&(!d.disabled&&A(o,s,xt(a,d)),c=be(d.ref)&&B(a)?"":a,bt(d.ref)?[...d.ref.options].forEach(h=>h.selected=c.includes(h.value)):d.refs?ge(d.ref)?d.refs.length>1?d.refs.forEach(h=>(!h.defaultChecked||!h.disabled)&&(h.checked=Array.isArray(c)?!!c.find(F=>F===h.value):c===h.value)):d.refs[0]&&(d.refs[0].checked=!!c):d.refs.forEach(h=>h.checked=h.value===c):Ie(d.ref)?d.ref.value="":(d.ref.value=c,d.ref.type||b.state.next({name:s,values:T(o)})))}(l.shouldDirty||l.shouldTouch)&&le(s,c,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&we(s)},J=(s,a,l)=>{for(const g in a){const c=a[g],d=`${s}.${g}`,h=f(i,d);(y.array.has(s)||C(c)||h&&!h._f)&&!ie(c)?J(d,c,l):W(d,c,l)}},ee=(s,a,l={})=>{const g=f(i,s),c=y.array.has(s),d=T(a);A(o,s,d),c?(b.array.next({name:s,values:T(o)}),(V.isDirty||V.dirtyFields||S.isDirty||S.dirtyFields)&&l.shouldDirty&&b.state.next({name:s,dirtyFields:de(n,o),isDirty:_(s,d)})):g&&!g._f&&!B(d)?J(s,d,l):W(s,d,l),st(s,y)&&b.state.next({...t}),b.state.next({name:u.mount?s:void 0,values:T(o)})},ue=async s=>{u.mount=!0;const a=s.target;let l=a.name,g=!0;const c=f(i,l),d=h=>{g=Number.isNaN(h)||ie(h)&&isNaN(h.getTime())||te(h,f(o,l,h))};if(c){let h,F;const L=a.type?et(c._f):dt(s),I=s.type===ve.BLUR||s.type===ve.FOCUS_OUT,Tt=!Xt(c._f)&&!r.resolver&&!f(t.errors,l)&&!c._f.deps||tr(I,f(t.touchedFields,l),t.isSubmitted,H,re),De=st(l,y,I);A(o,l,L),I?(c._f.onBlur&&c._f.onBlur(s),v&&v(0)):c._f.onChange&&c._f.onChange(s);const ke=le(l,L,I),It=!P(ke)||De;if(!I&&b.state.next({name:l,type:s.type,values:T(o)}),Tt)return(V.isValid||S.isValid)&&(r.mode==="onBlur"?I&&N():I||N()),It&&b.state.next({name:l,...De?{}:ke});if(!I&&De&&b.state.next({...t}),r.resolver){const{errors:Ge}=await Y([l]);if(d(L),g){const Ut=it(t.errors,i,l),Ye=it(Ge,i,Ut.name||l);h=Ye.error,l=Ye.name,F=P(Ge)}}else m([l],!0),h=(await nt(c,y.disabled,o,R,r.shouldUseNativeValidation))[l],m([l]),d(L),g&&(h?F=!1:(V.isValid||S.isValid)&&(F=await X(i,!0)));g&&(c._f.deps&&we(c._f.deps),Ae(l,F,h,ke))}},he=(s,a)=>{if(f(t.errors,a)&&s.focus)return s.focus(),1},we=async(s,a={})=>{let l,g;const c=fe(s);if(r.resolver){const d=await se(k(s)?s:c);l=P(d),g=s?!c.some(h=>f(d,h)):l}else s?(g=(await Promise.all(c.map(async d=>{const h=f(i,d);return await X(h&&h._f?{[d]:h}:h)}))).every(Boolean),!(!g&&!t.isValid)&&N()):g=l=await X(i);return b.state.next({...!Q(s)||(V.isValid||S.isValid)&&l!==t.isValid?{}:{name:s},...r.resolver||!s?{isValid:l}:{},errors:t.errors}),a.shouldFocus&&!g&&ye(i,he,s?c:y.mount),g},Pe=s=>{const a={...u.mount?o:n};return k(s)?a:Q(s)?f(a,s):s.map(l=>f(a,l))},Be=(s,a)=>({invalid:!!f((a||t).errors,s),isDirty:!!f((a||t).dirtyFields,s),error:f((a||t).errors,s),isValidating:!!f(t.validatingFields,s),isTouched:!!f((a||t).touchedFields,s)}),Dt=s=>{s&&fe(s).forEach(a=>O(t.errors,a)),b.state.next({errors:s?t.errors:{}})},je=(s,a,l)=>{const g=(f(i,s,{_f:{}})._f||{}).ref,c=f(t.errors,s)||{},{ref:d,message:h,type:F,...L}=c;A(t.errors,s,{...L,...a,ref:g}),b.state.next({name:s,errors:t.errors,isValid:!1}),l&&l.shouldFocus&&g&&g.focus&&g.focus()},kt=(s,a)=>G(s)?b.state.subscribe({next:l=>s(D(void 0,a),l)}):D(s,a,!0),pe=s=>b.state.subscribe({next:a=>{er(s.name,a.name,s.exact)&&Zt(a,s.formState||V,Rt,s.reRenderRoot)&&s.callback({values:{...o},...t,...a})}}).unsubscribe,Ct=s=>(u.mount=!0,S={...S,...s.formState},pe({...s,formState:S})),Ee=(s,a={})=>{for(const l of s?fe(s):y.mount)y.mount.delete(l),y.array.delete(l),a.keepValue||(O(i,l),O(o,l)),!a.keepError&&O(t.errors,l),!a.keepDirty&&O(t.dirtyFields,l),!a.keepTouched&&O(t.touchedFields,l),!a.keepIsValidating&&O(t.validatingFields,l),!r.shouldUnregister&&!a.keepDefaultValue&&O(n,l);b.state.next({values:T(o)}),b.state.next({...t,...a.keepDirty?{isDirty:_()}:{}}),!a.keepIsValid&&N()},$e=({disabled:s,name:a})=>{($(s)&&u.mount||s||y.disabled.has(a))&&(s?y.disabled.add(a):y.disabled.delete(a))},Se=(s,a={})=>{let l=f(i,s);const g=$(a.disabled)||$(r.disabled);return A(i,s,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:s}},name:s,mount:!0,...a}}),y.mount.add(s),l?$e({disabled:$(a.disabled)?a.disabled:r.disabled,name:s}):oe(s,!0,a.value),{...g?{disabled:a.disabled||r.disabled}:{},...r.progressive?{required:!!a.required,min:ce(a.min),max:ce(a.max),minLength:ce(a.minLength),maxLength:ce(a.maxLength),pattern:ce(a.pattern)}:{},name:s,onChange:ue,onBlur:ue,ref:c=>{if(c){Se(s,a),l=f(i,s);const d=k(c.value)&&c.querySelectorAll&&c.querySelectorAll("input,select,textarea")[0]||c,h=zt(d),F=l._f.refs||[];if(h?F.find(L=>L===d):d===l._f.ref)return;A(i,s,{_f:{...l._f,...h?{refs:[...F.filter(Ce),d,...Array.isArray(f(n,s))?[{}]:[]],ref:{type:d.type,name:s}}:{ref:d}}}),oe(s,!1,void 0,d)}else l=f(i,s,{}),l._f&&(l._f.mount=!1),(r.shouldUnregister||a.shouldUnregister)&&!(ct(y.array,s)&&u.action)&&y.unMount.add(s)}}},qe=()=>r.shouldFocusError&&ye(i,he,y.mount),Lt=s=>{$(s)&&(b.state.next({disabled:s}),ye(i,(a,l)=>{const g=f(i,l);g&&(a.disabled=g._f.disabled||s,Array.isArray(g._f.refs)&&g._f.refs.forEach(c=>{c.disabled=g._f.disabled||s}))},0,!1))},We=(s,a)=>async l=>{let g;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let c=T(o);if(b.state.next({isSubmitting:!0}),r.resolver){const{errors:d,values:h}=await Y();t.errors=d,c=h}else await X(i);if(y.disabled.size)for(const d of y.disabled)A(c,d,void 0);if(O(t.errors,"root"),P(t.errors)){b.state.next({errors:{}});try{await s(c,l)}catch(d){g=d}}else a&&await a({...t.errors},l),qe(),setTimeout(qe);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:P(t.errors)&&!g,submitCount:t.submitCount+1,errors:t.errors}),g)throw g},Ot=(s,a={})=>{f(i,s)&&(k(a.defaultValue)?ee(s,T(f(n,s))):(ee(s,a.defaultValue),A(n,s,T(a.defaultValue))),a.keepTouched||O(t.touchedFields,s),a.keepDirty||(O(t.dirtyFields,s),t.isDirty=a.defaultValue?_(s,T(f(n,s))):_()),a.keepError||(O(t.errors,s),V.isValid&&N()),b.state.next({...t}))},He=(s,a={})=>{const l=s?T(s):n,g=T(l),c=P(s),d=c?n:g;if(a.keepDefaultValues||(n=l),!a.keepValues){if(a.keepDirtyValues){const h=new Set([...y.mount,...Object.keys(de(n,o))]);for(const F of Array.from(h))f(t.dirtyFields,F)?A(d,F,f(o,F)):ee(F,f(d,F))}else{if(Me&&k(s))for(const h of y.mount){const F=f(i,h);if(F&&F._f){const L=Array.isArray(F._f.refs)?F._f.refs[0]:F._f.ref;if(be(L)){const I=L.closest("form");if(I){I.reset();break}}}}for(const h of y.mount)ee(h,f(d,h))}o=T(d),b.array.next({values:{...d}}),b.state.next({values:{...d}})}y={mount:a.keepDirtyValues?y.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!V.isValid||!!a.keepIsValid||!!a.keepDirtyValues,u.watch=!!r.shouldUnregister,b.state.next({submitCount:a.keepSubmitCount?t.submitCount:0,isDirty:c?!1:a.keepDirty?t.isDirty:!!(a.keepDefaultValues&&!te(s,n)),isSubmitted:a.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:c?{}:a.keepDirtyValues?a.keepDefaultValues&&o?de(n,o):t.dirtyFields:a.keepDefaultValues&&s?de(n,s):a.keepDirty?t.dirtyFields:{},touchedFields:a.keepTouched?t.touchedFields:{},errors:a.keepErrors?t.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Ke=(s,a)=>He(G(s)?s(o):s,a),Mt=(s,a={})=>{const l=f(i,s),g=l&&l._f;if(g){const c=g.refs?g.refs[0]:g.ref;c.focus&&(c.focus(),a.shouldSelect&&G(c.select)&&c.select())}},Rt=s=>{t={...t,...s}},ze={control:{register:Se,unregister:Ee,getFieldState:Be,handleSubmit:We,setError:je,_subscribe:pe,_runSchema:Y,_getWatch:D,_getDirty:_,_setValid:N,_setFieldArray:K,_setDisabledField:$e,_setErrors:M,_getFieldArray:j,_reset:He,_resetDefaultValues:()=>G(r.defaultValues)&&r.defaultValues().then(s=>{Ke(s,r.resetOptions),b.state.next({isLoading:!1})}),_removeUnmounted:x,_disableForm:Lt,_subjects:b,_proxyFormState:V,get _fields(){return i},get _formValues(){return o},get _state(){return u},set _state(s){u=s},get _defaultValues(){return n},get _names(){return y},set _names(s){y=s},get _formState(){return t},get _options(){return r},set _options(s){r={...r,...s}}},subscribe:Ct,trigger:we,register:Se,handleSubmit:We,watch:kt,setValue:ee,getValues:Pe,reset:Ke,resetField:Ot,clearErrors:Dt,unregister:Ee,setError:je,setFocus:Mt,getFieldState:Be};return{...ze,formControl:ze}}function gr(e={}){const r=w.useRef(void 0),t=w.useRef(void 0),[i,n]=w.useState({isDirty:!1,isValidating:!1,isLoading:G(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:G(e.defaultValues)?void 0:e.defaultValues});r.current||(r.current={...e.formControl?e.formControl:ar(e),formState:i},e.formControl&&e.defaultValues&&!G(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const o=r.current.control;return o._options=e,Te(()=>{const u=o._subscribe({formState:o._proxyFormState,callback:()=>n({...o._formState}),reRenderRoot:!0});return n(y=>({...y,isReady:!0})),o._formState.isReady=!0,u},[o]),w.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),w.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode),e.errors&&!P(e.errors)&&o._setErrors(e.errors)},[o,e.errors,e.mode,e.reValidateMode]),w.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),w.useEffect(()=>{if(o._proxyFormState.isDirty){const u=o._getDirty();u!==i.isDirty&&o._subjects.state.next({isDirty:u})}},[o,i.isDirty]),w.useEffect(()=>{e.values&&!te(e.values,t.current)?(o._reset(e.values,o._options.resetOptions),t.current=e.values,n(u=>({...u}))):o._resetDefaultValues()},[o,e.values]),w.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),r.current.formState=gt(i,o),r.current}const ot=(e,r,t)=>{if(e&&"reportValidity"in e){const i=f(t,r);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},wt=(e,r)=>{for(const t in r.fields){const i=r.fields[t];i&&i.ref&&"reportValidity"in i.ref?ot(i.ref,t,e):i&&i.refs&&i.refs.forEach(n=>ot(n,t,e))}},nr=(e,r)=>{r.shouldUseNativeValidation&&wt(e,r);const t={};for(const i in e){const n=f(r.fields,i),o=Object.assign(e[i]||{},{ref:n&&n.ref});if(or(r.names||Object.keys(e),i)){const u=Object.assign({},f(t,i));A(u,"root",o),A(t,i,u)}else A(t,i,o)}return t},or=(e,r)=>{const t=lt(r);return e.some(i=>lt(i).match(`^${t}\\.\\d+`))};function lt(e){return e.replace(/\]|\[/g,"")}function lr(e,r){for(var t={};e.length;){var i=e[0],n=i.code,o=i.message,u=i.path.join(".");if(!t[u])if("unionErrors"in i){var y=i.unionErrors[0].errors[0];t[u]={message:y.message,type:y.code}}else t[u]={message:o,type:n};if("unionErrors"in i&&i.unionErrors.forEach(function(V){return V.errors.forEach(function(S){return e.push(S)})}),r){var v=t[u].types,E=v&&v[i.code];t[u]=vt(u,r,t,n,E?[].concat(E,i.message):i.message)}e.shift()}return t}function hr(e,r,t){return t===void 0&&(t={}),function(i,n,o){try{return Promise.resolve(function(u,y){try{var v=Promise.resolve(e[t.mode==="sync"?"parse":"parseAsync"](i,r)).then(function(E){return o.shouldUseNativeValidation&&wt({},o),{errors:{},values:t.raw?Object.assign({},i):E}})}catch(E){return y(E)}return v&&v.then?v.then(void 0,y):v}(0,function(u){if(function(y){return Array.isArray(y==null?void 0:y.errors)}(u))return{values:{},errors:nr(lr(u.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw u}))}catch(u){return Promise.reject(u)}}}const mr=qt,Et=ae.createContext({}),vr=({...e})=>q.jsx(Et.Provider,{value:{name:e.name},children:q.jsx(Kt,{...e})}),Ne=()=>{const e=ae.useContext(Et),r=ae.useContext(St),{getFieldState:t}=xe(),i=ht({name:e.name}),n=t(e.name,i);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:o}=r;return{id:o,name:e.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...n}},St=ae.createContext({});function br({className:e,...r}){const t=ae.useId();return q.jsx(St.Provider,{value:{id:t},children:q.jsx("div",{"data-slot":"form-item",className:Oe("grid gap-2",e),...r})})}function _r({className:e,...r}){const{error:t,formItemId:i}=Ne();return q.jsx(Pt,{"data-slot":"form-label","data-error":!!t,className:Oe("data-[error=true]:text-destructive",e),htmlFor:i,...r})}function Fr({...e}){const{error:r,formItemId:t,formDescriptionId:i,formMessageId:n}=Ne();return q.jsx(Nt,{"data-slot":"form-control",id:t,"aria-describedby":r?`${i} ${n}`:`${i}`,"aria-invalid":!!r,...e})}function Vr({className:e,...r}){const{error:t,formMessageId:i}=Ne(),n=t?String((t==null?void 0:t.message)??""):r.children;return n?q.jsx("p",{"data-slot":"form-message",id:i,className:Oe("text-destructive text-sm",e),...r,children:n}):null}const xr=({message:e})=>e?q.jsxs("div",{className:"bg-destructive/15 p-3 rounded-md flex items-center gap-x-2 text-sm text-destructive",children:[q.jsx(Bt,{className:"h-4 w-4"}),q.jsx("p",{children:e})]}):null,Ar=({message:e})=>e?q.jsxs("div",{className:"bg-emerald-500/15 p-3 rounded-md flex items-center gap-x-2 text-sm text-emerald-500",children:[q.jsx(jt,{className:"h-4 w-4"}),q.jsx("p",{children:e})]}):null;export{mr as F,vr as a,br as b,_r as c,Fr as d,Vr as e,xr as f,Ar as g,hr as s,gr as u};
