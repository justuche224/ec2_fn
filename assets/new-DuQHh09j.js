import{r as n,j as e,B as h,u as f}from"./index-BKI1WJFD.js";import{C,a as N,b as v,c as D,d as b,e as A}from"./card-D2tBPcb5.js";import{A as y,a as w,b as S,c as E,d as F,e as k}from"./alert-dialog-h8xNXvsg.js";import{I as c}from"./input-COXMr8KZ.js";import{L as m}from"./label-pumfUz_W.js";import{F as T,a as L}from"./form-success-D94Keyl1.js";import{c as q}from"./cashapp-yqJ_evqW.js";import{L as I}from"./loader-circle-DVwTj61m.js";import"./circle-alert-1X7729Uh.js";import"./check-BSI6iiZe.js";function B(){const[a,r]=n.useState({tag:"",name:"",amount:""}),[i,d]=n.useState(!1),[t,u]=n.useState(!1),[x,p]=n.useState(""),[g,o]=n.useState(""),j=async s=>{if(s.preventDefault(),!t){if(o(""),p(""),a.tag==="")return o("Enter a valid Cash Tag");if(a.name==="")return o("Enter a valid Name");if(a.amount===""||isNaN(Number(a.amount))||Number(a.amount)<=0)return o("Enter a valid Amount");u(!0);try{const l=await q({cashtag:a.tag,cashappName:a.name,amount:Number(a.amount)});console.log(l),p("Deposit created successfully"),d(!0)}catch(l){console.log(l),o("An error occurred while creating the deposit")}finally{u(!1)}}};return e.jsxs(C,{className:"w-full max-w-sm",children:[e.jsx(H,{open:i,setOpen:d}),e.jsxs(N,{children:[e.jsx(v,{children:"Cash App Deposit"}),e.jsx(D,{children:"Enter your Cash Tag, Name and Desired Amount below to deposit funds"})]}),e.jsxs(b,{children:[e.jsx("form",{children:e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(m,{htmlFor:"tag",children:"Cash App Tag"}),e.jsx(c,{value:a.tag,onChange:s=>r({...a,tag:s.target.value}),id:"tag",type:"text",placeholder:"$cashtag",required:!0,disabled:t})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("div",{className:"flex items-center",children:e.jsx(m,{htmlFor:"name",children:"Cash App Name"})}),e.jsx(c,{value:a.name,onChange:s=>r({...a,name:s.target.value}),id:"name",type:"text",placeholder:"John Doe",required:!0,disabled:t})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(m,{htmlFor:"amount",children:"Amount"}),e.jsx(c,{value:a.amount,onChange:s=>r({...a,amount:s.target.value}),id:"amount",type:"number",placeholder:"1000",required:!0,disabled:t})]})]})}),e.jsx("br",{}),e.jsx(T,{message:g}),e.jsx(L,{message:x})]}),e.jsx(A,{className:"flex-col gap-2",children:e.jsx(h,{onClick:s=>j(s),type:"submit",className:"w-full",disabled:t,children:t?e.jsx(I,{className:"w-4 h-4 animate-spin"}):"Deposit"})})]})}const H=({open:a,setOpen:r})=>{const i=f();return e.jsx(y,{open:a,onOpenChange:r,children:e.jsxs(w,{children:[e.jsxs(S,{children:[e.jsx(E,{children:"Deposit Created! Check Your Email"}),e.jsx(F,{children:"An email will be sent to you soon with instructions on how to complete the deposit."})]}),e.jsx("small",{className:"text-center italic text-secondary-foreground",children:"If you don't see an email, check your spam folder and mark as not spam."}),e.jsx(k,{children:e.jsx(h,{onClick:()=>i({to:"/dashboard/deposit/cash-app"}),children:"View Deposits"})})]})})},P=function(){return e.jsx("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-100px)] text-center text-2xl",children:e.jsx(B,{})})};export{P as component};
