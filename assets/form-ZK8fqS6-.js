import{i as w,r as ie,j as ae,c as Oe,a1 as Nt}from"./index-CkZ5brE_.js";import{L as Pt}from"./label-CyCTZJbj.js";var ge=e=>e.type==="checkbox",se=e=>e instanceof Date,B=e=>e==null;const ut=e=>typeof e=="object";var C=e=>!B(e)&&!Array.isArray(e)&&ut(e)&&!se(e),dt=e=>C(e)&&e.target?ge(e.target)?e.target.checked:e.target.value:e,Bt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,ct=(e,r)=>e.has(Bt(r)),jt=e=>{const r=e.constructor&&e.constructor.prototype;return C(r)&&r.hasOwnProperty("isPrototypeOf")},Me=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function T(e){let r;const t=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)r=new Date(e);else if(e instanceof Set)r=new Set(e);else if(!(Me&&(e instanceof Blob||i))&&(t||C(e)))if(r=t?[]:{},!t&&!jt(e))r=e;else for(const n in e)e.hasOwnProperty(n)&&(r[n]=T(e[n]));else return e;return r}var Fe=e=>Array.isArray(e)?e.filter(Boolean):[],k=e=>e===void 0,f=(e,r,t)=>{if(!r||!C(e))return t;const i=Fe(r.split(/[,[\].]+?/)).reduce((n,o)=>B(n)?n:n[o],e);return k(i)||i===e?k(e[r])?t:e[r]:i},$=e=>typeof e=="boolean",Re=e=>/^\w*$/.test(e),ft=e=>Fe(e.replace(/["|']|\]/g,"").split(/\.|\[/)),A=(e,r,t)=>{let i=-1;const n=Re(r)?[r]:ft(r),o=n.length,u=o-1;for(;++i<o;){const y=n[i];let m=t;if(i!==u){const D=e[y];m=C(D)||Array.isArray(D)?D:isNaN(+n[i+1])?{}:[]}if(y==="__proto__"||y==="constructor"||y==="prototype")return;e[y]=m,e=e[y]}};const me={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},K={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},X={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},yt=w.createContext(null),xe=()=>w.useContext(yt),pt=e=>{const{children:r,...t}=e;return w.createElement(yt.Provider,{value:t},r)};var gt=(e,r,t,i=!0)=>{const n={defaultValues:r._defaultValues};for(const o in e)Object.defineProperty(n,o,{get:()=>{const u=o;return r._proxyFormState[u]!==K.all&&(r._proxyFormState[u]=!i||K.all),t&&(t[u]=!0),e[u]}});return n};const Te=typeof window<"u"?ie.useLayoutEffect:ie.useEffect;function ht(e){const r=xe(),{control:t=r.control,disabled:i,name:n,exact:o}=e||{},[u,y]=w.useState(t._formState),m=w.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Te(()=>t._subscribe({name:n,formState:m.current,exact:o,callback:D=>{!i&&y({...t._formState,...D})}}),[n,i,o]),w.useEffect(()=>{m.current.isValid&&t._setValid(!0)},[t]),w.useMemo(()=>gt(u,t,m.current,!1),[u,t])}var J=e=>typeof e=="string",vt=(e,r,t,i,n)=>J(e)?(i&&r.watch.add(e),f(t,e,n)):Array.isArray(e)?e.map(o=>(i&&r.watch.add(o),f(t,o))):(i&&(r.watchAll=!0),t);function $t(e){const r=xe(),{control:t=r.control,name:i,defaultValue:n,disabled:o,exact:u}=e||{},y=w.useRef(n),[m,D]=w.useState(t._getWatch(i,y.current));return Te(()=>t._subscribe({name:i,formState:{values:!0},exact:u,callback:F=>!o&&D(vt(i,t._names,F.values||t._formValues,!1,y.current))}),[i,t,o,u]),w.useEffect(()=>t._removeUnmounted()),m}function qt(e){const r=xe(),{name:t,disabled:i,control:n=r.control,shouldUnregister:o}=e,u=ct(n._names.array,t),y=$t({control:n,name:t,defaultValue:f(n._formValues,t,f(n._defaultValues,t,e.defaultValue)),exact:!0}),m=ht({control:n,name:t,exact:!0}),D=w.useRef(e),F=w.useRef(n.register(t,{...e.rules,value:y,...$(e.disabled)?{disabled:e.disabled}:{}})),E=w.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!f(m.errors,t)},isDirty:{enumerable:!0,get:()=>!!f(m.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!f(m.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!f(m.validatingFields,t)},error:{enumerable:!0,get:()=>f(m.errors,t)}}),[m,t]),b=w.useCallback(U=>F.current.onChange({target:{value:dt(U),name:t},type:me.CHANGE}),[t]),te=w.useCallback(()=>F.current.onBlur({target:{value:f(n._formValues,t),name:t},type:me.BLUR}),[t,n._formValues]),W=w.useCallback(U=>{const N=f(n._fields,t);N&&U&&(N._f.ref={focus:()=>U.focus(),select:()=>U.select(),setCustomValidity:v=>U.setCustomValidity(v),reportValidity:()=>U.reportValidity()})},[n._fields,t]),R=w.useMemo(()=>({name:t,value:y,...$(i)||m.disabled?{disabled:m.disabled||i}:{},onChange:b,onBlur:te,ref:W}),[t,i,m.disabled,b,te,W,y]);return w.useEffect(()=>{const U=n._options.shouldUnregister||o;n.register(t,{...D.current.rules,...$(D.current.disabled)?{disabled:D.current.disabled}:{}});const N=(v,H)=>{const p=f(n._fields,v);p&&p._f&&(p._f.mount=H)};if(N(t,!0),U){const v=T(f(n._options.defaultValues,t));A(n._defaultValues,t,v),k(f(n._formValues,t))&&A(n._formValues,t,v)}return!u&&n.register(t),()=>{(u?U&&!n._state.action:U)?n.unregister(t):N(t,!1)}},[t,n,u,o]),w.useEffect(()=>{n._setDisabledField({disabled:i,name:t})},[i,t,n]),w.useMemo(()=>({field:R,formState:m,fieldState:E}),[R,m,E])}const Wt=e=>e.render(qt(e));var mt=(e,r,t,i,n)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[i]:n||!0}}:{},fe=e=>Array.isArray(e)?e:[e],Je=()=>{let e=[];return{get observers(){return e},next:n=>{for(const o of e)o.next&&o.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(o=>o!==n)}}),unsubscribe:()=>{e=[]}}},Le=e=>B(e)||!ut(e);function ee(e,r){if(Le(e)||Le(r))return e===r;if(se(e)&&se(r))return e.getTime()===r.getTime();const t=Object.keys(e),i=Object.keys(r);if(t.length!==i.length)return!1;for(const n of t){const o=e[n];if(!i.includes(n))return!1;if(n!=="ref"){const u=r[n];if(se(o)&&se(u)||C(o)&&C(u)||Array.isArray(o)&&Array.isArray(u)?!ee(o,u):o!==u)return!1}}return!0}var P=e=>C(e)&&!Object.keys(e).length,Ie=e=>e.type==="file",z=e=>typeof e=="function",be=e=>{if(!Me)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},bt=e=>e.type==="select-multiple",Ue=e=>e.type==="radio",Ht=e=>Ue(e)||ge(e),Ce=e=>be(e)&&e.isConnected;function Kt(e,r){const t=r.slice(0,-1).length;let i=0;for(;i<t;)e=k(e)?i++:e[r[i++]];return e}function zt(e){for(const r in e)if(e.hasOwnProperty(r)&&!k(e[r]))return!1;return!0}function O(e,r){const t=Array.isArray(r)?r:Re(r)?[r]:ft(r),i=t.length===1?e:Kt(e,t),n=t.length-1,o=t[n];return i&&delete i[o],n!==0&&(C(i)&&P(i)||Array.isArray(i)&&zt(i))&&O(e,t.slice(0,-1)),e}var _t=e=>{for(const r in e)if(z(e[r]))return!0;return!1};function _e(e,r={}){const t=Array.isArray(e);if(C(e)||t)for(const i in e)Array.isArray(e[i])||C(e[i])&&!_t(e[i])?(r[i]=Array.isArray(e[i])?[]:{},_e(e[i],r[i])):B(e[i])||(r[i]=!0);return r}function Vt(e,r,t){const i=Array.isArray(e);if(C(e)||i)for(const n in e)Array.isArray(e[n])||C(e[n])&&!_t(e[n])?k(r)||Le(t[n])?t[n]=Array.isArray(e[n])?_e(e[n],[]):{..._e(e[n])}:Vt(e[n],B(r)?{}:r[n],t[n]):t[n]=!ee(e[n],r[n]);return t}var de=(e,r)=>Vt(e,r,_e(r));const Qe={value:!1,isValid:!1},Xe={value:!0,isValid:!0};var Ft=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!k(e[0].attributes.value)?k(e[0].value)||e[0].value===""?Xe:{value:e[0].value,isValid:!0}:Xe:Qe}return Qe},xt=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:i})=>k(e)?e:r?e===""?NaN:e&&+e:t&&J(e)?new Date(e):i?i(e):e;const Ze={isValid:!1,value:null};var At=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,Ze):Ze;function et(e){const r=e.ref;return Ie(r)?r.files:Ue(r)?At(e.refs).value:bt(r)?[...r.selectedOptions].map(({value:t})=>t):ge(r)?Ft(e.refs).value:xt(k(r.value)?e.ref.value:r.value,e)}var Gt=(e,r,t,i)=>{const n={};for(const o of e){const u=f(r,o);u&&A(n,o,u._f)}return{criteriaMode:t,names:[...e],fields:n,shouldUseNativeValidation:i}},Ve=e=>e instanceof RegExp,ce=e=>k(e)?e:Ve(e)?e.source:C(e)?Ve(e.value)?e.value.source:e.value:e,tt=e=>({isOnSubmit:!e||e===K.onSubmit,isOnBlur:e===K.onBlur,isOnChange:e===K.onChange,isOnAll:e===K.all,isOnTouch:e===K.onTouched});const rt="AsyncFunction";var Yt=e=>!!e&&!!e.validate&&!!(z(e.validate)&&e.validate.constructor.name===rt||C(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===rt)),Jt=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),st=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const ye=(e,r,t,i)=>{for(const n of t||Object.keys(e)){const o=f(e,n);if(o){const{_f:u,...y}=o;if(u){if(u.refs&&u.refs[0]&&r(u.refs[0],n)&&!i)return!0;if(u.ref&&r(u.ref,u.name)&&!i)return!0;if(ye(y,r))break}else if(C(y)&&ye(y,r))break}}};function it(e,r,t){const i=f(e,t);if(i||Re(t))return{error:i,name:t};const n=t.split(".");for(;n.length;){const o=n.join("."),u=f(r,o),y=f(e,o);if(u&&!Array.isArray(u)&&t!==o)return{name:t};if(y&&y.type)return{name:o,error:y};n.pop()}return{name:t}}var Qt=(e,r,t,i)=>{t(e);const{name:n,...o}=e;return P(o)||Object.keys(o).length>=Object.keys(r).length||Object.keys(o).find(u=>r[u]===(!i||K.all))},Xt=(e,r,t)=>!e||!r||e===r||fe(e).some(i=>i&&(t?i===r:i.startsWith(r)||r.startsWith(i))),Zt=(e,r,t,i,n)=>n.isOnAll?!1:!t&&n.isOnTouch?!(r||e):(t?i.isOnBlur:n.isOnBlur)?!e:(t?i.isOnChange:n.isOnChange)?e:!0,er=(e,r)=>!Fe(f(e,r)).length&&O(e,r),tr=(e,r,t)=>{const i=fe(f(e,t));return A(i,"root",r[t]),A(e,t,i),e},ve=e=>J(e);function at(e,r,t="validate"){if(ve(e)||Array.isArray(e)&&e.every(ve)||$(e)&&!e)return{type:t,message:ve(e)?e:"",ref:r}}var ne=e=>C(e)&&!Ve(e)?e:{value:e,message:""},nt=async(e,r,t,i,n,o)=>{const{ref:u,refs:y,required:m,maxLength:D,minLength:F,min:E,max:b,pattern:te,validate:W,name:R,valueAsNumber:U,mount:N}=e._f,v=f(t,R);if(!N||r.has(R))return{};const H=y?y[0]:u,p=x=>{n&&H.reportValidity&&(H.setCustomValidity($(x)?"":x||""),H.reportValidity())},M={},oe=Ue(u),le=ge(u),Ae=oe||le,G=(U||Ie(u))&&k(u.value)&&k(v)||be(u)&&u.value===""||v===""||Array.isArray(v)&&!v.length,re=mt.bind(null,R,i,M),Q=(x,_,S,j=X.maxLength,q=X.minLength)=>{const Y=x?_:S;M[R]={type:x?j:q,message:Y,ref:u,...re(x?j:q,Y)}};if(o?!Array.isArray(v)||!v.length:m&&(!Ae&&(G||B(v))||$(v)&&!v||le&&!Ft(y).isValid||oe&&!At(y).isValid)){const{value:x,message:_}=ve(m)?{value:!!m,message:m}:ne(m);if(x&&(M[R]={type:X.required,message:_,ref:H,...re(X.required,_)},!i))return p(_),M}if(!G&&(!B(E)||!B(b))){let x,_;const S=ne(b),j=ne(E);if(!B(v)&&!isNaN(v)){const q=u.valueAsNumber||v&&+v;B(S.value)||(x=q>S.value),B(j.value)||(_=q<j.value)}else{const q=u.valueAsDate||new Date(v),Y=he=>new Date(new Date().toDateString()+" "+he),Z=u.type=="time",ue=u.type=="week";J(S.value)&&v&&(x=Z?Y(v)>Y(S.value):ue?v>S.value:q>new Date(S.value)),J(j.value)&&v&&(_=Z?Y(v)<Y(j.value):ue?v<j.value:q<new Date(j.value))}if((x||_)&&(Q(!!x,S.message,j.message,X.max,X.min),!i))return p(M[R].message),M}if((D||F)&&!G&&(J(v)||o&&Array.isArray(v))){const x=ne(D),_=ne(F),S=!B(x.value)&&v.length>+x.value,j=!B(_.value)&&v.length<+_.value;if((S||j)&&(Q(S,x.message,_.message),!i))return p(M[R].message),M}if(te&&!G&&J(v)){const{value:x,message:_}=ne(te);if(Ve(x)&&!v.match(x)&&(M[R]={type:X.pattern,message:_,ref:u,...re(X.pattern,_)},!i))return p(_),M}if(W){if(z(W)){const x=await W(v,t),_=at(x,H);if(_&&(M[R]={..._,...re(X.validate,_.message)},!i))return p(_.message),M}else if(C(W)){let x={};for(const _ in W){if(!P(x)&&!i)break;const S=at(await W[_](v,t),H,_);S&&(x={...S,...re(_,S.message)},p(S.message),i&&(M[R]=x))}if(!P(x)&&(M[R]={ref:H,...x},!i))return M}}return p(!0),M};const rr={mode:K.onSubmit,reValidateMode:K.onChange,shouldFocusError:!0};function sr(e={}){let r={...rr,...e},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:z(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1};const i={};let n=C(r.defaultValues)||C(r.values)?T(r.defaultValues||r.values)||{}:{},o=r.shouldUnregister?{}:T(n),u={action:!1,mount:!1,watch:!1},y={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},m,D=0;const F={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let E={...F};const b={array:Je(),state:Je()},te=tt(r.mode),W=tt(r.reValidateMode),R=r.criteriaMode===K.all,U=s=>a=>{clearTimeout(D),D=setTimeout(s,a)},N=async s=>{if(!r.disabled&&(F.isValid||E.isValid||s)){const a=r.resolver?P((await G()).errors):await Q(i,!0);a!==t.isValid&&b.state.next({isValid:a})}},v=(s,a)=>{!r.disabled&&(F.isValidating||F.validatingFields||E.isValidating||E.validatingFields)&&((s||Array.from(y.mount)).forEach(l=>{l&&(a?A(t.validatingFields,l,a):O(t.validatingFields,l))}),b.state.next({validatingFields:t.validatingFields,isValidating:!P(t.validatingFields)}))},H=(s,a=[],l,g,c=!0,d=!0)=>{if(g&&l&&!r.disabled){if(u.action=!0,d&&Array.isArray(f(i,s))){const h=l(f(i,s),g.argA,g.argB);c&&A(i,s,h)}if(d&&Array.isArray(f(t.errors,s))){const h=l(f(t.errors,s),g.argA,g.argB);c&&A(t.errors,s,h),er(t.errors,s)}if((F.touchedFields||E.touchedFields)&&d&&Array.isArray(f(t.touchedFields,s))){const h=l(f(t.touchedFields,s),g.argA,g.argB);c&&A(t.touchedFields,s,h)}(F.dirtyFields||E.dirtyFields)&&(t.dirtyFields=de(n,o)),b.state.next({name:s,isDirty:_(s,a),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else A(o,s,a)},p=(s,a)=>{A(t.errors,s,a),b.state.next({errors:t.errors})},M=s=>{t.errors=s,b.state.next({errors:t.errors,isValid:!1})},oe=(s,a,l,g)=>{const c=f(i,s);if(c){const d=f(o,s,k(l)?f(n,s):l);k(d)||g&&g.defaultChecked||a?A(o,s,a?d:et(c._f)):q(s,d),u.mount&&N()}},le=(s,a,l,g,c)=>{let d=!1,h=!1;const V={name:s};if(!r.disabled){if(!l||g){(F.isDirty||E.isDirty)&&(h=t.isDirty,t.isDirty=V.isDirty=_(),d=h!==V.isDirty);const L=ee(f(n,s),a);h=!!f(t.dirtyFields,s),L?O(t.dirtyFields,s):A(t.dirtyFields,s,!0),V.dirtyFields=t.dirtyFields,d=d||(F.dirtyFields||E.dirtyFields)&&h!==!L}if(l){const L=f(t.touchedFields,s);L||(A(t.touchedFields,s,l),V.touchedFields=t.touchedFields,d=d||(F.touchedFields||E.touchedFields)&&L!==l)}d&&c&&b.state.next(V)}return d?V:{}},Ae=(s,a,l,g)=>{const c=f(t.errors,s),d=(F.isValid||E.isValid)&&$(a)&&t.isValid!==a;if(r.delayError&&l?(m=U(()=>p(s,l)),m(r.delayError)):(clearTimeout(D),m=null,l?A(t.errors,s,l):O(t.errors,s)),(l?!ee(c,l):c)||!P(g)||d){const h={...g,...d&&$(a)?{isValid:a}:{},errors:t.errors,name:s};t={...t,...h},b.state.next(h)}},G=async s=>{v(s,!0);const a=await r.resolver(o,r.context,Gt(s||y.mount,i,r.criteriaMode,r.shouldUseNativeValidation));return v(s),a},re=async s=>{const{errors:a}=await G(s);if(s)for(const l of s){const g=f(a,l);g?A(t.errors,l,g):O(t.errors,l)}else t.errors=a;return a},Q=async(s,a,l={valid:!0})=>{for(const g in s){const c=s[g];if(c){const{_f:d,...h}=c;if(d){const V=y.array.has(d.name),L=c._f&&Yt(c._f);L&&F.validatingFields&&v([g],!0);const I=await nt(c,y.disabled,o,R,r.shouldUseNativeValidation&&!a,V);if(L&&F.validatingFields&&v([g]),I[d.name]&&(l.valid=!1,a))break;!a&&(f(I,d.name)?V?tr(t.errors,I,d.name):A(t.errors,d.name,I[d.name]):O(t.errors,d.name))}!P(h)&&await Q(h,a,l)}}return l.valid},x=()=>{for(const s of y.unMount){const a=f(i,s);a&&(a._f.refs?a._f.refs.every(l=>!Ce(l)):!Ce(a._f.ref))&&De(s)}y.unMount=new Set},_=(s,a)=>!r.disabled&&(s&&a&&A(o,s,a),!ee(Pe(),n)),S=(s,a,l)=>vt(s,y,{...u.mount?o:k(a)?n:J(s)?{[s]:a}:a},l,a),j=s=>Fe(f(u.mount?o:n,s,r.shouldUnregister?f(n,s,[]):[])),q=(s,a,l={})=>{const g=f(i,s);let c=a;if(g){const d=g._f;d&&(!d.disabled&&A(o,s,xt(a,d)),c=be(d.ref)&&B(a)?"":a,bt(d.ref)?[...d.ref.options].forEach(h=>h.selected=c.includes(h.value)):d.refs?ge(d.ref)?d.refs.length>1?d.refs.forEach(h=>(!h.defaultChecked||!h.disabled)&&(h.checked=Array.isArray(c)?!!c.find(V=>V===h.value):c===h.value)):d.refs[0]&&(d.refs[0].checked=!!c):d.refs.forEach(h=>h.checked=h.value===c):Ie(d.ref)?d.ref.value="":(d.ref.value=c,d.ref.type||b.state.next({name:s,values:T(o)})))}(l.shouldDirty||l.shouldTouch)&&le(s,c,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&we(s)},Y=(s,a,l)=>{for(const g in a){const c=a[g],d=`${s}.${g}`,h=f(i,d);(y.array.has(s)||C(c)||h&&!h._f)&&!se(c)?Y(d,c,l):q(d,c,l)}},Z=(s,a,l={})=>{const g=f(i,s),c=y.array.has(s),d=T(a);A(o,s,d),c?(b.array.next({name:s,values:T(o)}),(F.isDirty||F.dirtyFields||E.isDirty||E.dirtyFields)&&l.shouldDirty&&b.state.next({name:s,dirtyFields:de(n,o),isDirty:_(s,d)})):g&&!g._f&&!B(d)?Y(s,d,l):q(s,d,l),st(s,y)&&b.state.next({...t}),b.state.next({name:u.mount?s:void 0,values:T(o)})},ue=async s=>{u.mount=!0;const a=s.target;let l=a.name,g=!0;const c=f(i,l),d=h=>{g=Number.isNaN(h)||se(h)&&isNaN(h.getTime())||ee(h,f(o,l,h))};if(c){let h,V;const L=a.type?et(c._f):dt(s),I=s.type===me.BLUR||s.type===me.FOCUS_OUT,Tt=!Jt(c._f)&&!r.resolver&&!f(t.errors,l)&&!c._f.deps||Zt(I,f(t.touchedFields,l),t.isSubmitted,W,te),Se=st(l,y,I);A(o,l,L),I?(c._f.onBlur&&c._f.onBlur(s),m&&m(0)):c._f.onChange&&c._f.onChange(s);const ke=le(l,L,I),It=!P(ke)||Se;if(!I&&b.state.next({name:l,type:s.type,values:T(o)}),Tt)return(F.isValid||E.isValid)&&(r.mode==="onBlur"?I&&N():I||N()),It&&b.state.next({name:l,...Se?{}:ke});if(!I&&Se&&b.state.next({...t}),r.resolver){const{errors:Ge}=await G([l]);if(d(L),g){const Ut=it(t.errors,i,l),Ye=it(Ge,i,Ut.name||l);h=Ye.error,l=Ye.name,V=P(Ge)}}else v([l],!0),h=(await nt(c,y.disabled,o,R,r.shouldUseNativeValidation))[l],v([l]),d(L),g&&(h?V=!1:(F.isValid||E.isValid)&&(V=await Q(i,!0)));g&&(c._f.deps&&we(c._f.deps),Ae(l,V,h,ke))}},he=(s,a)=>{if(f(t.errors,a)&&s.focus)return s.focus(),1},we=async(s,a={})=>{let l,g;const c=fe(s);if(r.resolver){const d=await re(k(s)?s:c);l=P(d),g=s?!c.some(h=>f(d,h)):l}else s?(g=(await Promise.all(c.map(async d=>{const h=f(i,d);return await Q(h&&h._f?{[d]:h}:h)}))).every(Boolean),!(!g&&!t.isValid)&&N()):g=l=await Q(i);return b.state.next({...!J(s)||(F.isValid||E.isValid)&&l!==t.isValid?{}:{name:s},...r.resolver||!s?{isValid:l}:{},errors:t.errors}),a.shouldFocus&&!g&&ye(i,he,s?c:y.mount),g},Pe=s=>{const a={...u.mount?o:n};return k(s)?a:J(s)?f(a,s):s.map(l=>f(a,l))},Be=(s,a)=>({invalid:!!f((a||t).errors,s),isDirty:!!f((a||t).dirtyFields,s),error:f((a||t).errors,s),isValidating:!!f(t.validatingFields,s),isTouched:!!f((a||t).touchedFields,s)}),St=s=>{s&&fe(s).forEach(a=>O(t.errors,a)),b.state.next({errors:s?t.errors:{}})},je=(s,a,l)=>{const g=(f(i,s,{_f:{}})._f||{}).ref,c=f(t.errors,s)||{},{ref:d,message:h,type:V,...L}=c;A(t.errors,s,{...L,...a,ref:g}),b.state.next({name:s,errors:t.errors,isValid:!1}),l&&l.shouldFocus&&g&&g.focus&&g.focus()},kt=(s,a)=>z(s)?b.state.subscribe({next:l=>s(S(void 0,a),l)}):S(s,a,!0),pe=s=>b.state.subscribe({next:a=>{Xt(s.name,a.name,s.exact)&&Qt(a,s.formState||F,Rt,s.reRenderRoot)&&s.callback({values:{...o},...t,...a})}}).unsubscribe,Ct=s=>(u.mount=!0,E={...E,...s.formState},pe({...s,formState:E})),De=(s,a={})=>{for(const l of s?fe(s):y.mount)y.mount.delete(l),y.array.delete(l),a.keepValue||(O(i,l),O(o,l)),!a.keepError&&O(t.errors,l),!a.keepDirty&&O(t.dirtyFields,l),!a.keepTouched&&O(t.touchedFields,l),!a.keepIsValidating&&O(t.validatingFields,l),!r.shouldUnregister&&!a.keepDefaultValue&&O(n,l);b.state.next({values:T(o)}),b.state.next({...t,...a.keepDirty?{isDirty:_()}:{}}),!a.keepIsValid&&N()},$e=({disabled:s,name:a})=>{($(s)&&u.mount||s||y.disabled.has(a))&&(s?y.disabled.add(a):y.disabled.delete(a))},Ee=(s,a={})=>{let l=f(i,s);const g=$(a.disabled)||$(r.disabled);return A(i,s,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:s}},name:s,mount:!0,...a}}),y.mount.add(s),l?$e({disabled:$(a.disabled)?a.disabled:r.disabled,name:s}):oe(s,!0,a.value),{...g?{disabled:a.disabled||r.disabled}:{},...r.progressive?{required:!!a.required,min:ce(a.min),max:ce(a.max),minLength:ce(a.minLength),maxLength:ce(a.maxLength),pattern:ce(a.pattern)}:{},name:s,onChange:ue,onBlur:ue,ref:c=>{if(c){Ee(s,a),l=f(i,s);const d=k(c.value)&&c.querySelectorAll&&c.querySelectorAll("input,select,textarea")[0]||c,h=Ht(d),V=l._f.refs||[];if(h?V.find(L=>L===d):d===l._f.ref)return;A(i,s,{_f:{...l._f,...h?{refs:[...V.filter(Ce),d,...Array.isArray(f(n,s))?[{}]:[]],ref:{type:d.type,name:s}}:{ref:d}}}),oe(s,!1,void 0,d)}else l=f(i,s,{}),l._f&&(l._f.mount=!1),(r.shouldUnregister||a.shouldUnregister)&&!(ct(y.array,s)&&u.action)&&y.unMount.add(s)}}},qe=()=>r.shouldFocusError&&ye(i,he,y.mount),Lt=s=>{$(s)&&(b.state.next({disabled:s}),ye(i,(a,l)=>{const g=f(i,l);g&&(a.disabled=g._f.disabled||s,Array.isArray(g._f.refs)&&g._f.refs.forEach(c=>{c.disabled=g._f.disabled||s}))},0,!1))},We=(s,a)=>async l=>{let g;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let c=T(o);if(b.state.next({isSubmitting:!0}),r.resolver){const{errors:d,values:h}=await G();t.errors=d,c=h}else await Q(i);if(y.disabled.size)for(const d of y.disabled)A(c,d,void 0);if(O(t.errors,"root"),P(t.errors)){b.state.next({errors:{}});try{await s(c,l)}catch(d){g=d}}else a&&await a({...t.errors},l),qe(),setTimeout(qe);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:P(t.errors)&&!g,submitCount:t.submitCount+1,errors:t.errors}),g)throw g},Ot=(s,a={})=>{f(i,s)&&(k(a.defaultValue)?Z(s,T(f(n,s))):(Z(s,a.defaultValue),A(n,s,T(a.defaultValue))),a.keepTouched||O(t.touchedFields,s),a.keepDirty||(O(t.dirtyFields,s),t.isDirty=a.defaultValue?_(s,T(f(n,s))):_()),a.keepError||(O(t.errors,s),F.isValid&&N()),b.state.next({...t}))},He=(s,a={})=>{const l=s?T(s):n,g=T(l),c=P(s),d=c?n:g;if(a.keepDefaultValues||(n=l),!a.keepValues){if(a.keepDirtyValues){const h=new Set([...y.mount,...Object.keys(de(n,o))]);for(const V of Array.from(h))f(t.dirtyFields,V)?A(d,V,f(o,V)):Z(V,f(d,V))}else{if(Me&&k(s))for(const h of y.mount){const V=f(i,h);if(V&&V._f){const L=Array.isArray(V._f.refs)?V._f.refs[0]:V._f.ref;if(be(L)){const I=L.closest("form");if(I){I.reset();break}}}}for(const h of y.mount)Z(h,f(d,h))}o=T(d),b.array.next({values:{...d}}),b.state.next({values:{...d}})}y={mount:a.keepDirtyValues?y.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!F.isValid||!!a.keepIsValid||!!a.keepDirtyValues,u.watch=!!r.shouldUnregister,b.state.next({submitCount:a.keepSubmitCount?t.submitCount:0,isDirty:c?!1:a.keepDirty?t.isDirty:!!(a.keepDefaultValues&&!ee(s,n)),isSubmitted:a.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:c?{}:a.keepDirtyValues?a.keepDefaultValues&&o?de(n,o):t.dirtyFields:a.keepDefaultValues&&s?de(n,s):a.keepDirty?t.dirtyFields:{},touchedFields:a.keepTouched?t.touchedFields:{},errors:a.keepErrors?t.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Ke=(s,a)=>He(z(s)?s(o):s,a),Mt=(s,a={})=>{const l=f(i,s),g=l&&l._f;if(g){const c=g.refs?g.refs[0]:g.ref;c.focus&&(c.focus(),a.shouldSelect&&z(c.select)&&c.select())}},Rt=s=>{t={...t,...s}},ze={control:{register:Ee,unregister:De,getFieldState:Be,handleSubmit:We,setError:je,_subscribe:pe,_runSchema:G,_getWatch:S,_getDirty:_,_setValid:N,_setFieldArray:H,_setDisabledField:$e,_setErrors:M,_getFieldArray:j,_reset:He,_resetDefaultValues:()=>z(r.defaultValues)&&r.defaultValues().then(s=>{Ke(s,r.resetOptions),b.state.next({isLoading:!1})}),_removeUnmounted:x,_disableForm:Lt,_subjects:b,_proxyFormState:F,get _fields(){return i},get _formValues(){return o},get _state(){return u},set _state(s){u=s},get _defaultValues(){return n},get _names(){return y},set _names(s){y=s},get _formState(){return t},get _options(){return r},set _options(s){r={...r,...s}}},subscribe:Ct,trigger:we,register:Ee,handleSubmit:We,watch:kt,setValue:Z,getValues:Pe,reset:Ke,resetField:Ot,clearErrors:St,unregister:De,setError:je,setFocus:Mt,getFieldState:Be};return{...ze,formControl:ze}}function dr(e={}){const r=w.useRef(void 0),t=w.useRef(void 0),[i,n]=w.useState({isDirty:!1,isValidating:!1,isLoading:z(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:z(e.defaultValues)?void 0:e.defaultValues});r.current||(r.current={...e.formControl?e.formControl:sr(e),formState:i},e.formControl&&e.defaultValues&&!z(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const o=r.current.control;return o._options=e,Te(()=>{const u=o._subscribe({formState:o._proxyFormState,callback:()=>n({...o._formState}),reRenderRoot:!0});return n(y=>({...y,isReady:!0})),o._formState.isReady=!0,u},[o]),w.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),w.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode),e.errors&&!P(e.errors)&&o._setErrors(e.errors)},[o,e.errors,e.mode,e.reValidateMode]),w.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),w.useEffect(()=>{if(o._proxyFormState.isDirty){const u=o._getDirty();u!==i.isDirty&&o._subjects.state.next({isDirty:u})}},[o,i.isDirty]),w.useEffect(()=>{e.values&&!ee(e.values,t.current)?(o._reset(e.values,o._options.resetOptions),t.current=e.values,n(u=>({...u}))):o._resetDefaultValues()},[o,e.values]),w.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),r.current.formState=gt(i,o),r.current}const ot=(e,r,t)=>{if(e&&"reportValidity"in e){const i=f(t,r);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},wt=(e,r)=>{for(const t in r.fields){const i=r.fields[t];i&&i.ref&&"reportValidity"in i.ref?ot(i.ref,t,e):i&&i.refs&&i.refs.forEach(n=>ot(n,t,e))}},ir=(e,r)=>{r.shouldUseNativeValidation&&wt(e,r);const t={};for(const i in e){const n=f(r.fields,i),o=Object.assign(e[i]||{},{ref:n&&n.ref});if(ar(r.names||Object.keys(e),i)){const u=Object.assign({},f(t,i));A(u,"root",o),A(t,i,u)}else A(t,i,o)}return t},ar=(e,r)=>{const t=lt(r);return e.some(i=>lt(i).match(`^${t}\\.\\d+`))};function lt(e){return e.replace(/\]|\[/g,"")}function nr(e,r){for(var t={};e.length;){var i=e[0],n=i.code,o=i.message,u=i.path.join(".");if(!t[u])if("unionErrors"in i){var y=i.unionErrors[0].errors[0];t[u]={message:y.message,type:y.code}}else t[u]={message:o,type:n};if("unionErrors"in i&&i.unionErrors.forEach(function(F){return F.errors.forEach(function(E){return e.push(E)})}),r){var m=t[u].types,D=m&&m[i.code];t[u]=mt(u,r,t,n,D?[].concat(D,i.message):i.message)}e.shift()}return t}function cr(e,r,t){return t===void 0&&(t={}),function(i,n,o){try{return Promise.resolve(function(u,y){try{var m=Promise.resolve(e[t.mode==="sync"?"parse":"parseAsync"](i,r)).then(function(D){return o.shouldUseNativeValidation&&wt({},o),{errors:{},values:t.raw?Object.assign({},i):D}})}catch(D){return y(D)}return m&&m.then?m.then(void 0,y):m}(0,function(u){if(function(y){return Array.isArray(y==null?void 0:y.errors)}(u))return{values:{},errors:ir(nr(u.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw u}))}catch(u){return Promise.reject(u)}}}const fr=pt,Dt=ie.createContext({}),yr=({...e})=>ae.jsx(Dt.Provider,{value:{name:e.name},children:ae.jsx(Wt,{...e})}),Ne=()=>{const e=ie.useContext(Dt),r=ie.useContext(Et),{getFieldState:t}=xe(),i=ht({name:e.name}),n=t(e.name,i);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:o}=r;return{id:o,name:e.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...n}},Et=ie.createContext({});function gr({className:e,...r}){const t=ie.useId();return ae.jsx(Et.Provider,{value:{id:t},children:ae.jsx("div",{"data-slot":"form-item",className:Oe("grid gap-2",e),...r})})}function hr({className:e,...r}){const{error:t,formItemId:i}=Ne();return ae.jsx(Pt,{"data-slot":"form-label","data-error":!!t,className:Oe("data-[error=true]:text-destructive",e),htmlFor:i,...r})}function vr({...e}){const{error:r,formItemId:t,formDescriptionId:i,formMessageId:n}=Ne();return ae.jsx(Nt,{"data-slot":"form-control",id:t,"aria-describedby":r?`${i} ${n}`:`${i}`,"aria-invalid":!!r,...e})}function mr({className:e,...r}){const{error:t,formMessageId:i}=Ne(),n=t?String((t==null?void 0:t.message)??""):r.children;return n?ae.jsx("p",{"data-slot":"form-message",id:i,className:Oe("text-destructive text-sm",e),...r,children:n}):null}export{fr as F,yr as a,gr as b,hr as c,vr as d,mr as e,cr as s,dr as u};
