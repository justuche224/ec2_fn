import{r as o,j as e,B as x,u as g}from"./index-BKI1WJFD.js";import{C as y,a as N,b as v,c as C,d as D,e as b}from"./card-D2tBPcb5.js";import{A as E,a as w,b as A,c as P,d as S,e as F}from"./alert-dialog-h8xNXvsg.js";import{I as m}from"./input-COXMr8KZ.js";import{L as c}from"./label-pumfUz_W.js";import{F as k,a as L}from"./form-success-D94Keyl1.js";import{c as q}from"./paypal-CyPQYd7E.js";import{L as I}from"./loader-circle-DVwTj61m.js";import"./circle-alert-1X7729Uh.js";import"./check-BSI6iiZe.js";function B(){const[a,r]=o.useState({email:"",name:"",amount:""}),[i,d]=o.useState(!1),[t,u]=o.useState(!1),[h,p]=o.useState(""),[j,l]=o.useState(""),f=async s=>{if(s.preventDefault(),!t){if(l(""),p(""),a.email===""||!a.email.includes("@"))return l("Enter a valid PayPal Email");if(a.name==="")return l("Enter a valid Name");if(a.amount===""||isNaN(Number(a.amount))||Number(a.amount)<=0)return l("Enter a valid Amount");u(!0);try{const n=await q({paypalEmail:a.email,paypalName:a.name,amount:Number(a.amount)});console.log(n),p("Deposit created successfully"),d(!0)}catch(n){console.log(n),l("An error occurred while creating the deposit")}finally{u(!1)}}};return e.jsxs(y,{className:"w-full max-w-sm",children:[e.jsx(H,{open:i,setOpen:d}),e.jsxs(N,{children:[e.jsx(v,{children:"PayPal Deposit"}),e.jsx(C,{children:"Enter your PayPal Email, Name and Desired Amount below to deposit funds"})]}),e.jsxs(D,{children:[e.jsx("form",{children:e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(c,{htmlFor:"email",children:"PayPal Email"}),e.jsx(m,{value:a.email,onChange:s=>r({...a,email:s.target.value}),id:"email",type:"email",placeholder:"user@example.com",required:!0,disabled:t})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("div",{className:"flex items-center",children:e.jsx(c,{htmlFor:"name",children:"PayPal Name"})}),e.jsx(m,{value:a.name,onChange:s=>r({...a,name:s.target.value}),id:"name",type:"text",placeholder:"John Doe",required:!0,disabled:t})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(c,{htmlFor:"amount",children:"Amount"}),e.jsx(m,{value:a.amount,onChange:s=>r({...a,amount:s.target.value}),id:"amount",type:"number",placeholder:"1000",required:!0,disabled:t})]})]})}),e.jsx("br",{}),e.jsx(k,{message:j}),e.jsx(L,{message:h})]}),e.jsx(b,{className:"flex-col gap-2",children:e.jsx(x,{onClick:s=>f(s),type:"submit",className:"w-full",disabled:t,children:t?e.jsx(I,{className:"w-4 h-4 animate-spin"}):"Deposit"})})]})}const H=({open:a,setOpen:r})=>{const i=g();return e.jsx(E,{open:a,onOpenChange:r,children:e.jsxs(w,{children:[e.jsxs(A,{children:[e.jsx(P,{children:"Deposit Created! Check Your Email"}),e.jsx(S,{children:"An email will be sent to you soon with instructions on how to complete the deposit."})]}),e.jsx("small",{className:"text-center italic text-secondary-foreground",children:"If you don't see an email, check your spam folder and mark as not spam."}),e.jsx(F,{children:e.jsx(x,{onClick:()=>i({to:"/dashboard/deposit/paypal"}),children:"View Deposits"})})]})})},Q=function(){return e.jsx("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-100px)] text-center text-2xl",children:e.jsx(B,{})})};export{Q as component};
