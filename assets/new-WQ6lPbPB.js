import{r as o,j as e,B as x,u as j}from"./index-BKI1WJFD.js";import{C as g,a as f,b as v,c as k,d as C,e as A}from"./card-D2tBPcb5.js";import{A as D,a as y,b as w,c as E,d as S,e as q}from"./alert-dialog-h8xNXvsg.js";import{I as c}from"./input-COXMr8KZ.js";import{L as i}from"./label-pumfUz_W.js";import{F,a as B}from"./form-success-D94Keyl1.js";import{c as L}from"./bank-Bt-U3pis.js";import{L as R}from"./loader-circle-DVwTj61m.js";import"./circle-alert-1X7729Uh.js";import"./check-BSI6iiZe.js";function I(){const[a,r]=o.useState({bankName:"",accountName:"",accountNumber:"",amount:""}),[l,m]=o.useState(!1),[s,d]=o.useState(!1),[h,p]=o.useState(""),[N,n]=o.useState(""),b=async t=>{if(t.preventDefault(),!s){if(n(""),p(""),a.bankName==="")return n("Enter a valid Bank Name");if(a.accountName==="")return n("Enter a valid Account Name");if(a.accountNumber==="")return n("Enter a valid Account Number");if(a.amount===""||isNaN(Number(a.amount))||Number(a.amount)<=0)return n("Enter a valid Amount");d(!0);try{const u=await L({bankName:a.bankName,bankAccountName:a.accountName,bankAccountNumber:a.accountNumber,amount:Number(a.amount)});console.log(u),p("Deposit request created successfully"),m(!0)}catch(u){console.log(u),n("An error occurred while creating the deposit request")}finally{d(!1)}}};return e.jsxs(g,{className:"w-full max-w-sm",children:[e.jsx(H,{open:l,setOpen:m}),e.jsxs(f,{children:[e.jsx(v,{children:"Bank Deposit"}),e.jsx(k,{children:"Enter your Bank Name, Account Name, Account Number and Desired Amount below to initiate a deposit request."})]}),e.jsxs(C,{children:[e.jsx("form",{children:e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"bankName",children:"Bank Name"}),e.jsx(c,{value:a.bankName,onChange:t=>r({...a,bankName:t.target.value}),id:"bankName",type:"text",placeholder:"e.g., Chase Bank",required:!0,disabled:s})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"accountName",children:"Account Name"}),e.jsx(c,{value:a.accountName,onChange:t=>r({...a,accountName:t.target.value}),id:"accountName",type:"text",placeholder:"John Doe",required:!0,disabled:s})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"accountNumber",children:"Account Number"}),e.jsx(c,{value:a.accountNumber,onChange:t=>r({...a,accountNumber:t.target.value}),id:"accountNumber",type:"text",placeholder:"1234567890",required:!0,disabled:s})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"amount",children:"Amount"}),e.jsx(c,{value:a.amount,onChange:t=>r({...a,amount:t.target.value}),id:"amount",type:"number",placeholder:"1000",required:!0,disabled:s})]})]})}),e.jsx("br",{}),e.jsx(F,{message:N}),e.jsx(B,{message:h})]}),e.jsx(A,{className:"flex-col gap-2",children:e.jsx(x,{onClick:t=>b(t),type:"submit",className:"w-full",disabled:s,children:s?e.jsx(R,{className:"w-4 h-4 animate-spin"}):"Request Deposit"})})]})}const H=({open:a,setOpen:r})=>{const l=j();return e.jsx(D,{open:a,onOpenChange:r,children:e.jsxs(y,{children:[e.jsxs(w,{children:[e.jsx(E,{children:"Deposit Request Created! Check Your Email"}),e.jsx(S,{children:"An email will be sent to you soon with instructions on how to complete the deposit."})]}),e.jsx("small",{className:"text-center italic text-secondary-foreground",children:"If you don't see an email, check your spam folder and mark as not spam."}),e.jsx(q,{children:e.jsx(x,{onClick:()=>l({to:"/dashboard/deposit/bank"}),children:"View Deposits"})})]})})},Q=function(){return e.jsx("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-100px)] text-center text-2xl",children:e.jsx(I,{})})};export{Q as component};
