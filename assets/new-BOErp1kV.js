import{aW as g,r as t,u as f,z as i,j as e,B as j,aX as h}from"./index-CkZ5brE_.js";import{A as y}from"./accent-card-CwbW192m.js";import{u as C,s as F,F as w,a as b,b as S,c as N,d as v,e as E}from"./form-ZK8fqS6-.js";import{F as L,a as R}from"./form-success-Iw3q-num.js";import{I}from"./input-CcicD33n.js";import{L as A}from"./loader-circle-CA4QhhhM.js";import"./card-Bi6CrIBn.js";import"./proxy-0GMe9hTj.js";import"./label-CyCTZJbj.js";import"./circle-alert-Dz8njoCb.js";import"./check-TK9LooIF.js";const B=i.object({name:i.string().min(1)}),H=function(){const{callbackURL:c}=g.useSearch(),[s,l]=t.useTransition(),[u,o]=t.useState(""),[d,m]=t.useState(""),x=f(),a=C({resolver:F(B),defaultValues:{name:""}});function p(r){o(void 0),m(void 0),l(async()=>{try{await h(r.name),m("Category Created"),x({to:c??"/admin/categories"})}catch(n){o(n instanceof Error?n.message:"Failed to create category")}})}return e.jsx("div",{className:"h-full flex justify-center mt-10 container max-w-2xl w-full mx-auto",children:e.jsx(y,{className:"max-w-2xl mx-auto lg:w-2xl md:w-xl sm:w-lg",title:"New Category",description:"Create a new category",children:e.jsx(w,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(p),className:"space-y-6",children:[e.jsx(b,{control:a.control,name:"name",disabled:s,render:({field:r})=>e.jsxs(S,{children:[e.jsx(N,{children:"Category Name"}),e.jsx(v,{children:e.jsx(I,{...r,type:"text",placeholder:"Category Name",required:!0})}),e.jsx(E,{})]})}),e.jsx(L,{message:u}),e.jsx(R,{message:d}),e.jsx(j,{disabled:s,type:"submit",className:"w-full",children:s?e.jsx(A,{className:"h-4 w-4 animate-spin"}):"Create Category"})]})})})})};export{H as component};
