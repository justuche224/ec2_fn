import{aU as b,r as d,u as R,z as t,j as e,B as F,aV as A}from"./index-CkZ5brE_.js";import{A as w}from"./accent-card-CwbW192m.js";import{u as S,s as q,F as C,a as o,b as i,c as a,d as l,e as c}from"./form-ZK8fqS6-.js";import{F as N,a as v}from"./form-success-Iw3q-num.js";import{I as m}from"./input-CcicD33n.js";import{L as E}from"./loader-circle-CA4QhhhM.js";import"./card-Bi6CrIBn.js";import"./proxy-0GMe9hTj.js";import"./label-CyCTZJbj.js";import"./circle-alert-Dz8njoCb.js";import"./check-TK9LooIF.js";const L=t.object({type:t.string().min(1),price:t.string().min(1),minRoiAmount:t.string().min(1),maxRoiAmount:t.string().min(1),commission:t.string().min(1),percentage:t.string().min(1),duration:t.string().min(1),description:t.string().min(1)}),K=function(){const{callbackURL:p}=b.useSearch(),[n,h]=d.useTransition(),[P,x]=d.useState(""),[g,u]=d.useState(""),f=R(),s=S({resolver:q(L),defaultValues:{type:"",price:"",minRoiAmount:"",maxRoiAmount:"",commission:"",percentage:"",duration:"",description:""}});function y(r){x(void 0),u(void 0),h(async()=>{try{await A(r),u("Plan Created"),f({to:p??"/admin/plans"})}catch(j){x(j instanceof Error?j.message:"Failed to create plan")}})}return e.jsx("div",{className:"h-full flex justify-center mt-10 container max-w-2xl w-full mx-auto",children:e.jsx(w,{className:"max-w-2xl mx-auto lg:w-2xl md:w-xl sm:w-lg",title:"New Plan",description:"Create a new Plan",children:e.jsx(C,{...s,children:e.jsxs("form",{onSubmit:s.handleSubmit(y),className:"space-y-6",children:[e.jsx(o,{control:s.control,name:"type",disabled:n,render:({field:r})=>e.jsxs(i,{children:[e.jsx(a,{children:"Plan Type"}),e.jsx(l,{children:e.jsx(m,{...r,type:"text",placeholder:"Plan Type e.g Premium,Starter...",required:!0})}),e.jsx(c,{})]})}),e.jsx(o,{control:s.control,name:"price",disabled:n,render:({field:r})=>e.jsxs(i,{children:[e.jsx(a,{children:"Plan Price"}),e.jsx(l,{children:e.jsx(m,{...r,type:"text",placeholder:"Plan Price e.g 1000",required:!0})}),e.jsx(c,{})]})}),e.jsx(o,{control:s.control,name:"minRoiAmount",disabled:n,render:({field:r})=>e.jsxs(i,{children:[e.jsx(a,{children:"Plan minRoiAmount"}),e.jsx(l,{children:e.jsx(m,{...r,type:"text",placeholder:"Plan minRoiAmount",required:!0})}),e.jsx(c,{})]})}),e.jsx(o,{control:s.control,name:"maxRoiAmount",disabled:n,render:({field:r})=>e.jsxs(i,{children:[e.jsx(a,{children:"Plan maxRoiAmount"}),e.jsx(l,{children:e.jsx(m,{...r,type:"text",placeholder:"Plan maxRoiAmount",required:!0})}),e.jsx(c,{})]})}),e.jsx(o,{control:s.control,name:"commission",disabled:n,render:({field:r})=>e.jsxs(i,{children:[e.jsx(a,{children:"Plan commission"}),e.jsx(l,{children:e.jsx(m,{...r,type:"text",placeholder:"Plan commission",required:!0})}),e.jsx(c,{})]})}),e.jsx(o,{control:s.control,name:"percentage",disabled:n,render:({field:r})=>e.jsxs(i,{children:[e.jsx(a,{children:"Plan percentage"}),e.jsx(l,{children:e.jsx(m,{...r,type:"text",placeholder:"Plan percentage",required:!0})}),e.jsx(c,{})]})}),e.jsx(o,{control:s.control,name:"duration",disabled:n,render:({field:r})=>e.jsxs(i,{children:[e.jsx(a,{children:"Plan duration"}),e.jsx(l,{children:e.jsx(m,{...r,type:"text",placeholder:"Plan duration",required:!0})}),e.jsx(c,{})]})}),e.jsx(o,{control:s.control,name:"description",disabled:n,render:({field:r})=>e.jsxs(i,{children:[e.jsx(a,{children:"Plan description"}),e.jsx(l,{children:e.jsx(m,{...r,type:"text",placeholder:"Plan description",required:!0})}),e.jsx(c,{})]})}),e.jsx(N,{message:P}),e.jsx(v,{message:g}),e.jsx(F,{disabled:n,type:"submit",className:"w-full",children:n?e.jsx(E,{className:"h-4 w-4 animate-spin"}):"Create Plan"})]})})})})};export{K as component};
