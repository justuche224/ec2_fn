import{aW as g,r,u as f,z as c,j as e,B as j,aX as h}from"./index-CKke61-x.js";import{A as y}from"./accent-card-CYQiHekJ.js";import{u as C,s as F,F as w,a as b,b as S,c as N,d as v,e as E,f as L,g as R}from"./form-success-B8TfJm3x.js";import{I}from"./input-BDOraU40.js";import{L as A}from"./loader-circle-B75FyICw.js";import"./card-Ciy-eFoH.js";import"./proxy-HFCakdBw.js";import"./label-whf_3kma.js";import"./circle-alert-CVOfdq6z.js";import"./check-Dwuxca87.js";const B=c.object({name:c.string().min(1)}),G=function(){const{callbackURL:i}=g.useSearch(),[s,l]=r.useTransition(),[u,o]=r.useState(""),[d,n]=r.useState(""),x=f(),a=C({resolver:F(B),defaultValues:{name:""}});function p(t){o(void 0),n(void 0),l(async()=>{try{await h(t.name),n("Category Created"),x({to:i??"/admin/categories"})}catch(m){o(m instanceof Error?m.message:"Failed to create category")}})}return e.jsx("div",{className:"h-full flex justify-center mt-10 container max-w-2xl w-full mx-auto",children:e.jsx(y,{className:"max-w-2xl mx-auto lg:w-2xl md:w-xl sm:w-lg",title:"New Category",description:"Create a new category",children:e.jsx(w,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(p),className:"space-y-6",children:[e.jsx(b,{control:a.control,name:"name",disabled:s,render:({field:t})=>e.jsxs(S,{children:[e.jsx(N,{children:"Category Name"}),e.jsx(v,{children:e.jsx(I,{...t,type:"text",placeholder:"Category Name",required:!0})}),e.jsx(E,{})]})}),e.jsx(L,{message:u}),e.jsx(R,{message:d}),e.jsx(j,{disabled:s,type:"submit",className:"w-full",children:s?e.jsx(A,{className:"h-4 w-4 animate-spin"}):"Create Category"})]})})})})};export{G as component};
